<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Enhance Your Python-vscode Workflow - menziess blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Lora:400,700|Fira+Code:300,400">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msvalidate.01" content="DF64D3472558D82FA059638FC476FF14">
  <meta name="msapplication-TileColor" content="#603cba">
  <meta name="theme-color" content="#ffffff">

  
  
  
    
      
      <script async src="https://www.googletagmanager.com/gtag/js?id=UA-157518256-1"></script>
      <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-157518256-1');
      </script>
    
  

  
  
  <link rel="stylesheet" href="/css/style.min.5ce3a64371a6d6ad4ae139017128b33f631277a6aa4b592c44b2ce53ca68e5e3.css">
  

  

</head>

<body class='page page-default-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-posts">
      <a href="/howto/">
        <span>Posts</span>
      </a>
    </li>
    
    <li class="menu-item-tags">
      <a href="/tags/">
        <span>Tags</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://menziess.github.io/howto"><img draggable="false" alt="Logo" src="/images/logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://menziess.github.io/howto"><img draggable="false" alt="Logo" src="/images/logo.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-home">
      <a href="/">
        <span>Home</span>
      </a>
    </li>
    
    <li class="menu-item-posts">
      <a href="/howto/">
        <span>Posts</span>
      </a>
    </li>
    
    <li class="menu-item-tags">
      <a href="/tags/">
        <span>Tags</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" type="button">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>


    
    
    
    
    
    
    
    

    
    <div class="container pt-2 pt-md-6 pb-3 pb-md-6">
      <div class="row">
        <div class="col-12 col-md-3 mb-3">
          <div class="sidebar">
            
<div class="docs-menu">
  <h4>Howto</h4>

  
  <ul>
    
    <li class="">
      <a href="https://menziess.github.io/howto/install/python-packages-from-azure-devops/">Install Python Packages From Azure DevOps</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/install/python-packages-on-azure-synapse/">Install Python Packages on Azure Synapse</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/install/python-packages-on-databricks/">Install Python Packages on Databricks</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/run/gui-apps-with-docker/">Run GUI Apps With Docker</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/run/databricks-notebooks-from-devops/">Run Databricks Notebooks from DevOps</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/parameterize/databricks-notebooks/">Parameterize Databricks Notebooks</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/use/functional-programming-in-python/">Use Functional Programming In Python</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/enhance/your-databricks-workflow/">Enhance Your Databricks Workflow</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/create/python-packages/">Create Python Packages</a>
    </li>
    
    <li class="active ">
      <a href="https://menziess.github.io/howto/enhance/your-python-vscode-workflow/">Enhance Your Python-vscode Workflow</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/install/databricks-connect/">Install databricks-connect</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/install/windows-subsystem-for-linux/">Install Windows Subsystem for Linux</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/test/python-code/">Test Python Code</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/test/code-in-databricks-notebooks/">Test Code in Databricks Notebooks</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/manage/virtual-environments/">Manage Virtual Environments</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/manage/python-versions/">Manage Python Versions</a>
    </li>
    
    <li class="">
      <a href="https://menziess.github.io/howto/create/a-blog/">Create a Blog</a>
    </li>
    
  </ul>
  

</div>

          </div>
        </div>
        <div class="col-12 col-md-9">
          
<h1 class="title">Enhance Your Python-vscode Workflow</h1>
<div class="pb-2 content anchor-link-enabled">
  <p>This post covers my personal workflow for python projects, using Visual Studio Code along with some other tools. A good workflow saves time and allows you to focus on the problem at hand, instead of tasks that make you feel like a robot (machines are good for that).</p>
<p><img src="/images/logo/vscode.png#logo" alt=""></p>
<p>Install <code>vscode</code>, and follow the topics below to set up your development environment.</p>
<h2 id="topics">Topics</h2>
<ol>
<li><a href="#1-remote---wsl">Remote - WSL</a></li>
<li><a href="#2-virtual-environment">Virtual Environment</a></li>
<li><a href="#3-python-extension">Python Extension</a>
<ul>
<li><a href="#debugger">Debugger</a></li>
<li><a href="#jupyter">Jupyter</a></li>
<li><a href="#testing-and-linting">Testing-and-Linting</a></li>
</ul>
</li>
<li><a href="#4-editorconfig">Editorconfig</a></li>
</ol>
<h2 id="1-remote---wsl">1. Remote - WSL</h2>
<p>I prefer using a unix shell as my command-line interface. Luckily, Microsoft has implemented a great tool that allows developers to run linux distributions natively on Windows. Here&rsquo;s a small guide on how to <a href="https://menziess.github.io/howto/install/windows-subsystem-for-linux/">install Ubuntu on Windows</a>.</p>
<p>Assuming you have already installed vscode, you can select <code>bash</code> as your default terminal by adding the following line to your vscode settings:</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;terminal.integrated.shell.windows&#34;</span><span class="p">:</span> <span class="s2">&#34;C:\\Windows\\sysnative\\bash.exe&#34;</span>
<span class="p">}</span>
</code></pre></div><p>When you open a project folder, you can install the <strong>Remote-WSL</strong> extension to use WSL as your development environment. After installing the extension, open the command palette with <code>ctrl + shift + P</code> and select <code>Remote-WSL: Reopen folder in WSL</code>:</p>
<div >
<div class="embed-responsive">
  <video
    loop
    muted
    autoplay
    playsInline
    style="background-color: black;"
    onloadedmetadata="this.muted = true"
    class="embed-responsive-item">
    <source
      src='/videos/wsl-extension.mp4'
      type='video/mp4'>
    <p>HTML5 video's are not supported on your device.</p>
  </video>
</div>
</div>

<p>When you open the terminal using <code>ctrl + `</code>, you should see your bash shell by default.</p>
<h2 id="2-virtual-environment">2. Virtual Environment</h2>
<p>Create a new folder called &ldquo;demo&rdquo;, and open it in vscode:</p>
<div class="highlight"><pre class="chroma"><code class="language-zsh" data-lang="zsh">code demo <span class="c1"># if this doesn&#39;t work, open vscode manually and run `shift + ctrl + P`, then run &#34;Shell Command: Install &#39;code&#39; command in PATH&#34;</span>
</code></pre></div><p>Use this <a href="https://menziess.github.io/howto/manage/virtual-environments/">guide</a> to create a virtual environment inside the demo folder. A folder called <code>demo/.venv/</code> will be created, containing all dependencies and the python interpreter for the virtual environment, which can be referenced by setting a relative path in your vscode settings:</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;python.pythonPath&#34;</span><span class="p">:</span> <span class="s2">&#34;.venv/bin/python&#34;</span>
<span class="p">}</span>
</code></pre></div><p>The next time you start up vscode in this folder, it should automatically activate your virtual environment, and select the right interpreter.</p>
<h2 id="3-python-extension">3. Python Extension</h2>
<p>To be able to properly use vscode for python development, you should install the <code>Python</code> extension in vscode. Press <code>ctrl + shift + X</code> to open the extensions tab, and search for &ldquo;Python&rdquo;.</p>
<h3 id="debugger">Debugger</h3>
<p>The python extension has a debugger built right in. You can activate the debugger by pressing <code>F5</code>. I normally prefer to set up a <code>.vscode/launch.json</code> file with different debug configurations, but just testing a file will do for now:</p>
<div >
<div class="embed-responsive">
  <video
    loop
    muted
    autoplay
    playsInline
    style="background-color: black;"
    onloadedmetadata="this.muted = true"
    class="embed-responsive-item">
    <source
      src='/videos/debugger.mp4'
      type='video/mp4'>
    <p>HTML5 video's are not supported on your device.</p>
  </video>
</div>
</div>

<p>As you can see, you can watch and modify variables on the fly. You can also stop code execution upon triggering an expression by adding one in the Watch pane, for example:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="nb">isinstance</span><span class="p">(</span><span class="n">your_name</span><span class="p">,</span> <span class="nb">str</span><span class="p">)</span> <span class="c1"># when &#39;your_name&#39; becomes type &#39;str&#39;, the debugger will stop execution</span>
</code></pre></div><p>The debugger makes your life much easier, allowing you to inspect objects and modify variables to discover edge-cases more easily.</p>
<h3 id="jupyter">Jupyter</h3>
<p>The python extension also has jupyter support built-in.</p>
<div class="highlight"><pre class="chroma"><code class="language-zsh" data-lang="zsh">mkdir notebooks <span class="o">&amp;&amp;</span> touch notebooks/notebook.ipynb
</code></pre></div><p>When you click on the notebook, it will open:</p>
<p><img src="/images/enhance-your-python-vscode-workflow/jupyter.png" alt=""></p>
<p>It&rsquo;s quite useful when you want to read the notebooks, but if you want to run cells, you need to have <code>jupyter</code> installed:</p>
<div class="highlight"><pre class="chroma"><code class="language-zsh" data-lang="zsh">pipenv install -d jupyter
</code></pre></div><p>I&rsquo;ll have to mention one useful feature called <code>autoreload</code>, which allows you to automatically reimport modules in your notebook as you change them:</p>
<div class="highlight"><pre class="chroma"><code class="language-python" data-lang="python"><span class="c1"># Load the autoreload extension</span>
<span class="o">%</span><span class="n">load_ext</span> <span class="n">autoreload</span>

<span class="c1"># Autoreload reloads modules before executing code</span>
<span class="c1"># 0: disable</span>
<span class="c1"># 1: reload modules imported with %aimport</span>
<span class="c1"># 2: reload all modules, except those excluded by %aimport</span>
<span class="o">%</span><span class="n">autoreload</span> <span class="mi">2</span>
</code></pre></div><p>For example, here I&rsquo;m installing my source code in <code>develop</code> mode, and I import my installed source code into my notebook using autoreload:</p>
<p><img src="/images/enhance-your-python-vscode-workflow/autoreload.png" alt=""></p>
<p>If this doesn&rsquo;t work for you, you may have to install your python project. You may have noticed the extra file <a href="https://menziess.github.io/howto/create/python-packages/"><code>setup.py</code></a> in the root of the project folder. To install the project, you must run this file like so:</p>
<div class="highlight"><pre class="chroma"><code class="language-zsh" data-lang="zsh">pip install -e . <span class="c1"># about the same as `python setup.py develop`</span>
</code></pre></div><h3 id="testing-and-linting">Testing and Linting</h3>
<p>Although the python extension has a linter included, you can also define your default linting and testing frameworks in vscode settings. After installing the desired frameworks:</p>
<div class="highlight"><pre class="chroma"><code class="language-zsh" data-lang="zsh">pipenv install -d mypy autopep8 <span class="se">\
</span><span class="se"></span>  flake8 pytest bandit pydocstyle
</code></pre></div><p>You can also use these tools in your terminal, learn more about it <a href="https://menziess.github.io/howto/create/python-packages/">here</a>.</p>
<p>The settings of vscode can be overridden by workspace settings per project.</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;python.autoComplete.addBrackets&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;python.formatting.provider&#34;</span><span class="p">:</span> <span class="s2">&#34;autopep8&#34;</span><span class="p">,</span>
  <span class="nt">&#34;python.jediEnabled&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&#34;python.linting.mypyEnabled&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;python.linting.flake8Enabled&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;python.linting.pylintEnabled&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&#34;python.linting.pydocstyleEnabled&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;python.testing.unittestEnabled&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&#34;python.testing.nosetestsEnabled&#34;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nt">&#34;python.testing.pytestEnabled&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&#34;python.testing.pytestArgs&#34;</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">&#34;tests&#34;</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre></div><p>Some of these frameworks produce temporary folders, which can clutter your file explorer, and slow down file indexing. You can disable indexing for these files by passing a glob pattern to the <code>files.watcherExclude</code> field.</p>
<div class="highlight"><pre class="chroma"><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&#34;files.watcherExclude&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;**/build/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/dist/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/.ipynb_checkpoints/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/*.egg-info/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/.pytest_cache/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/__pycache__/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/.mypy_cache/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/.venv/**&#34;</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">},</span>
  <span class="nt">&#34;files.exclude&#34;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&#34;**/.pytest_cache/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/.mypy_cache/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/__pycache__/**&#34;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">&#34;**/*.egg-info/**&#34;</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>You can run tests from the Test sidebar:</p>
<p><img src="/images/enhance-your-python-vscode-workflow/tests.png" alt=""></p>
<p>Learn more about <a href="https://menziess.github.io/howto/test/python-code/">testing python code</a> in my previous post.</p>
<h2 id="4-editorconfig">4. Editorconfig</h2>
<p>Finally, you can install the <a href="https://editorconfig.org/">editorconfig</a> extension for vscode.</p>
<p>When you&rsquo;re collaborating with other developers, who use other editors and settings, you may run into the problem of having different line endings, and other idea&rsquo;s about using tabs or spaces.</p>
<p>Adding a <code>.editorconfig</code> file to your projects root folder can make it really easy to prevent differences in editor configurations:</p>
<div class="highlight"><pre class="chroma"><code class="language-fallback" data-lang="fallback">root = true

[*]
charset = utf-8
indent_style = spaces
indent_size = 2
end_of_line = lf
trim_trailing_whitespace = true
insert_final_newline = true

[*.py]
indent_size = 4
</code></pre></div>
</div>

<div class="content">
  
  <span class="post-meta">
    
      <a href="/tags/workflow">#workflow</a>&nbsp;
    
      <a href="/tags/wsl">#wsl</a>&nbsp;
    
  </span>
  <br>
  <br>


  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "menziess" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

  

</div>


        </div>
      </div>
    </div>
    
  </div>

  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">

        <div class="employer">
  
  <a href="https://www.avanade.com/nl-nl/contact?ref=https://menziess.github.io">
    <img src="/images/logo/avanade.png" alt="Avanade">
  </a>
</div>


        <div class="sub-footer-inner">
          <ul>
            <li class="zerostatic"><a href="https://github.com/menziess/">github</a></li>
            <li class="zerostatic"><a href="https://www.linkedin.com/in/stefanschenk/">linkedin</a></li>
            <li class="zerostatic"><a href="https://paypal.me/menziess/">help me stay awake! ☕️</a></li>
            <li class="zerostatic">
              <a href="/images/logo/bitcoin-receive-address.jpg#bc1qvn6y4htrzqjsk9ncdgx4km73kes7khkqldesxy">
                <img src="/images/logo/bitcoin.png"
                     alt="Bitcoin"
                     width="20px"
                     style="padding-bottom: 2px">
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>


  

  
  

  
  <script type="text/javascript" src="/js/scripts.min.1237ff71925bb8625c97a9af8db4c54525258bedfd7c47493daaff723bea755e.js"></script>
  

</body>

</html>
